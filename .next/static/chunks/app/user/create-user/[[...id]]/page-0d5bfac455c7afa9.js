(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{8947:(e,r,t)=>{Promise.resolve().then(t.bind(t,3920))},2930:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(5155),a=t(4505);function n(){return(0,s.jsx)(a.A,{className:"animate-spin"})}},1211:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var s=t(5155);function a(e){let{title:r}=e;return(0,s.jsx)("header",{className:"bg-customPrimary-20 font-semibold py-2 px-8 rounded-md shadow-sm mt-8",children:null!=r?r:"title"})}},3920:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>L});var s=t(5155),a=t(2930),n=t(1211),i=t(4085),o=t(4035),l=t(2336),d=t(2115),c=t(3610),u=t(8068),m=t(8166),f=t(1488),p=t(7510),x=t(3360),v="Switch",[h,b]=(0,m.A)(v),[g,j]=h(v),w=d.forwardRef((e,r)=>{let{__scopeSwitch:t,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:m="on",onCheckedChange:p,form:h,...b}=e,[j,w]=d.useState(null),y=(0,u.s)(r,e=>w(e)),N=d.useRef(!1),k=!j||h||!!j.closest("form"),[C,S]=(0,f.i)({prop:n,defaultProp:null!=i&&i,onChange:p,caller:v});return(0,s.jsxs)(g,{scope:t,checked:C,disabled:l,children:[(0,s.jsx)(x.sG.button,{type:"button",role:"switch","aria-checked":C,"aria-required":o,"data-state":P(C),"data-disabled":l?"":void 0,disabled:l,value:m,...b,ref:y,onClick:(0,c.mK)(e.onClick,e=>{S(e=>!e),k&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),k&&(0,s.jsx)(R,{control:j,bubbles:!N.current,name:a,value:m,checked:C,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});w.displayName=v;var y="SwitchThumb",N=d.forwardRef((e,r)=>{let{__scopeSwitch:t,...a}=e,n=j(y,t);return(0,s.jsx)(x.sG.span,{"data-state":P(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});N.displayName=y;var R=d.forwardRef((e,r)=>{let{__scopeSwitch:t,control:a,checked:n,bubbles:i=!0,...o}=e,l=d.useRef(null),c=(0,u.s)(l,r),m=function(e){let r=d.useRef({value:e,previous:e});return d.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}(n),f=(0,p.X)(a);return d.useEffect(()=>{let e=l.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==n&&r){let t=new Event("click",{bubbles:i});r.call(e,n),e.dispatchEvent(t)}},[m,n,i]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:c,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function P(e){return e?"checked":"unchecked"}R.displayName="SwitchBubbleInput";var k=t(9602);let C=d.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(w,{className:(0,k.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:r,children:(0,s.jsx)(N,{className:(0,k.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});C.displayName=w.displayName;var S=t(5828);let E=(0,S.createServerReference)("403d074a2f2e964070575764d74894e9715b24597e",S.callServer,void 0,S.findSourceMapURL,"UpdateUser"),A=(0,S.createServerReference)("40194bfa4b7c7eafa3ecc56d10977513bf661a9ad0",S.callServer,void 0,S.findSourceMapURL,"AddUser"),I=(0,S.createServerReference)("40aa2a38694138c7298b0b6d331dbe6f9329e6f59a",S.callServer,void 0,S.findSourceMapURL,"ReadSingleUser");var M=t(2926),F=t(2679),_=t(6046),B=t(9606),$=t(5037),z=t(4850);function L(){let e;let[r,t]=(0,d.useTransition)(),{id:c}=(0,_.useParams)();c&&(e=c[0]);let[u,m]=(0,d.useState)(void 0==e),f=z.Ik({fname:z.Yj().min(1,{message:"First Name required"}),lname:z.Yj().min(1,{message:"Last Name required"}),email:z.Yj().min(1,{message:"Email required"}).email("Incorrect Email")}),p=z.Ik({password:z.Yj().min(1,{message:"Password required"}),confirmPassword:z.Yj().min(1,{message:"Confirm Password required"})}).refine(e=>e.password===e.confirmPassword,{message:"password must match",path:["confirmPassword"]}),x=z.E$(f,p),v=(0,B.mN)({resolver:(0,F.u)(u?x:f),mode:"onBlur",defaultValues:{fname:"",lname:"",email:"",password:"",confirmPassword:""}});async function h(r){t(async()=>{var t,s,a,n;let i=await (0,M.O)();if(e){let a=await E(Object.assign(r,{id:e||"",createdBy:null===(t=i.data)||void 0===t?void 0:t.id,updatedBy:null===(s=i.data)||void 0===s?void 0:s.id}));a.status?($.Ay.success(a.message),(0,_.redirect)("/user/user-list")):$.Ay.error(a.message)}else{let e=await A(Object.assign(r,{createdBy:null===(a=i.data)||void 0===a?void 0:a.id,updatedBy:null===(n=i.data)||void 0===n?void 0:n.id}));e.status?($.Ay.success(e.message),(0,_.redirect)("/user/user-list")):$.Ay.error(e.message)}})}async function b(){if(e){let a=await I(e);if(a.status){var r,t,s;v.reset({fname:null===(r=a.data)||void 0===r?void 0:r.fname.toLowerCase(),lname:null===(t=a.data)||void 0===t?void 0:t.lname.toLowerCase(),email:null===(s=a.data)||void 0===s?void 0:s.email.toLowerCase()})}else $.Ay.error(a.message)}}return(0,d.useEffect)(()=>{b()},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("section",{children:[(0,s.jsx)(n.A,{title:"".concat(void 0==e?"Add":"Update"," User")}),(0,s.jsx)("div",{className:"flex items-center justify-center w-full mt-8 ",children:(0,s.jsx)(B.Op,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(h),autoComplete:"off",className:"bg-customSecondary-20 rounded-md shadow p-8 w-full space-y-4",children:[(0,s.jsx)(o.zB,{control:v.control,name:"fname",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex items-center",children:[(0,s.jsxs)(o.lR,{className:"basis-[30%]",children:["First Name",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"basis-[70%]",children:[(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{placeholder:"Write First Name",...r})}),(0,s.jsx)(o.Rr,{}),(0,s.jsx)(o.C5,{className:""})]})]})}}),(0,s.jsx)(o.zB,{control:v.control,name:"lname",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex items-center",children:[(0,s.jsxs)(o.lR,{className:"basis-[30%]",children:["Last Name",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"basis-[70%]",children:[(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{placeholder:"Write Last Name",...r})}),(0,s.jsx)(o.Rr,{}),(0,s.jsx)(o.C5,{})]})]})}}),(0,s.jsx)(o.zB,{control:v.control,name:"email",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex items-center",children:[(0,s.jsxs)(o.lR,{className:"basis-[30%]",children:["Email",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"basis-[70%]",children:[(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{type:"email",placeholder:"Write Email",...r})}),(0,s.jsx)(o.Rr,{}),(0,s.jsx)(o.C5,{})]})]})}}),void 0!=e&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o.lR,{className:"basis-[30%]",children:"Do You want to change password?"}),(0,s.jsx)("div",{className:"basis-[70%]",children:(0,s.jsx)(C,{className:"data-[state=checked]:bg-tertiary data-[state=unchecked]:bg-customPrimary-20 ",onCheckedChange:e=>{m(e),e&&v.reset({...v.getValues(),password:"",confirmPassword:""})}})})]}),u&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(o.zB,{control:v.control,name:"password",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex items-center",children:[(0,s.jsxs)(o.lR,{className:"basis-[30%]",children:["Password",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"basis-[70%]",children:[(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{placeholder:"Write Password",...r})}),(0,s.jsx)(o.Rr,{}),(0,s.jsx)(o.C5,{})]})]})}}),(0,s.jsx)(o.zB,{control:v.control,name:"confirmPassword",render:e=>{let{field:r}=e;return(0,s.jsxs)(o.eI,{className:"flex items-center",children:[(0,s.jsxs)(o.lR,{className:"basis-[30%]",children:["Confirm Password",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"basis-[70%]",children:[(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{placeholder:"Write Confirm Password",...r})}),(0,s.jsx)(o.Rr,{}),(0,s.jsx)(o.C5,{})]})]})}})]}),(0,s.jsxs)("div",{className:"w-full flex gap-x-4 justify-end ",children:[(0,s.jsx)(i.$,{className:"bg-red-500 text-white hover:bg-red-600 hover:text-white px-12",type:"button",onClick:()=>{v.reset()},children:"Reset"}),(0,s.jsxs)(i.$,{className:"bg-customPrimary hover:bg-customPrimary-80 disabled:bg-customPrimary-20 px-12",type:"submit",disabled:!v.formState.isValid,children:[void 0==e?"Add":"Update",r&&(0,s.jsx)(a.A,{})]})]})]})})})]})})}},4085:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>l});var s=t(5155),a=t(2115),n=t(2317),i=t(1027),o=t(9602);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:t})),ref:r,...c})});d.displayName="Button"},4035:(e,r,t)=>{"use strict";t.d(r,{lV:()=>u,MJ:()=>b,Rr:()=>g,zB:()=>f,eI:()=>v,lR:()=>h,C5:()=>j});var s=t(5155),a=t(2115),n=t(2317),i=t(9606),o=t(9602),l=t(6195);let d=(0,t(1027).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(l.b,{ref:r,className:(0,o.cn)(d(),t),...a})});c.displayName=l.b.displayName;let u=i.Op,m=a.createContext({}),f=e=>{let{...r}=e;return(0,s.jsx)(m.Provider,{value:{name:r.name},children:(0,s.jsx)(i.xI,{...r})})},p=()=>{let e=a.useContext(m),r=a.useContext(x),{getFieldState:t,formState:s}=(0,i.xW)(),n=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},x=a.createContext({}),v=a.forwardRef((e,r)=>{let{className:t,...n}=e,i=a.useId();return(0,s.jsx)(x.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:r,className:(0,o.cn)("space-y-2",t),...n})})});v.displayName="FormItem";let h=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:n,formItemId:i}=p();return(0,s.jsx)(c,{ref:r,className:(0,o.cn)(n&&"text-destructive",t),htmlFor:i,...a})});h.displayName="FormLabel";let b=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:i,formDescriptionId:o,formMessageId:l}=p();return(0,s.jsx)(n.DX,{ref:r,id:i,"aria-describedby":a?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!a,...t})});b.displayName="FormControl";let g=a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:n}=p();return(0,s.jsx)("p",{ref:r,id:n,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})});g.displayName="FormDescription";let j=a.forwardRef((e,r)=>{let{className:t,children:a,...n}=e,{error:i,formMessageId:l}=p(),d=i?String(null==i?void 0:i.message):a;return d?(0,s.jsx)("p",{ref:r,id:l,className:(0,o.cn)("text-sm font-medium text-destructive",t),...n,children:d}):null});j.displayName="FormMessage"},2336:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var s=t(5155),a=t(2115),n=t(9602);let i=a.forwardRef((e,r)=>{let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base  file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:border-tertiary disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...i})});i.displayName="Input"},9602:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(3463),a=t(9795);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},6046:(e,r,t)=>{"use strict";var s=t(6658);t.o(s,"redirect")&&t.d(r,{redirect:function(){return s.redirect}}),t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}})},2926:(e,r,t)=>{"use strict";t.d(r,{O:()=>a});var s=t(5828);let a=(0,s.createServerReference)("00281bb400ea6e7cba84e747e5ada05bc3b2b25669",s.callServer,void 0,s.findSourceMapURL,"GetUser")},3610:(e,r,t)=>{"use strict";function s(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e?.(s),!1===t||!s.defaultPrevented)return r?.(s)}}t.d(r,{mK:()=>s}),"undefined"!=typeof window&&window.document&&window.document.createElement},8166:(e,r,t)=>{"use strict";t.d(r,{A:()=>i,q:()=>n});var s=t(2115),a=t(5155);function n(e,r){let t=s.createContext(r),n=e=>{let{children:r,...n}=e,i=s.useMemo(()=>n,Object.values(n));return(0,a.jsx)(t.Provider,{value:i,children:r})};return n.displayName=e+"Provider",[n,function(a){let n=s.useContext(t);if(n)return n;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function i(e,r=[]){let t=[],n=()=>{let r=t.map(e=>s.createContext(e));return function(t){let a=t?.[e]||r;return s.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return n.scopeName=e,[function(r,n){let i=s.createContext(n),o=t.length;t=[...t,n];let l=r=>{let{scope:t,children:n,...l}=r,d=t?.[e]?.[o]||i,c=s.useMemo(()=>l,Object.values(l));return(0,a.jsx)(d.Provider,{value:c,children:n})};return l.displayName=r+"Provider",[l,function(t,a){let l=a?.[e]?.[o]||i,d=s.useContext(l);if(d)return d;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((r,{useScope:t,scopeName:s})=>{let a=t(e)[`__scope${s}`];return{...r,...a}},{});return s.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}(n,...r)]}},1488:(e,r,t)=>{"use strict";t.d(r,{i:()=>o});var s,a=t(2115),n=t(6611),i=(s||(s=t.t(a,2)))[" useInsertionEffect ".trim().toString()]||n.N;function o({prop:e,defaultProp:r,onChange:t=()=>{},caller:s}){let[n,o,l]=function({defaultProp:e,onChange:r}){let[t,s]=a.useState(e),n=a.useRef(t),o=a.useRef(r);return i(()=>{o.current=r},[r]),a.useEffect(()=>{n.current!==t&&(o.current?.(t),n.current=t)},[t,n]),[t,s,o]}({defaultProp:r,onChange:t}),d=void 0!==e,c=d?e:n;{let r=a.useRef(void 0!==e);a.useEffect(()=>{let e=r.current;if(e!==d){let r=d?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${r}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}r.current=d},[d,s])}return[c,a.useCallback(r=>{if(d){let t="function"==typeof r?r(e):r;t!==e&&l.current?.(t)}else o(r)},[d,e,o,l])]}Symbol("RADIX:SYNC_STATE")},6611:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var s=t(2115),a=globalThis?.document?s.useLayoutEffect:()=>{}},7510:(e,r,t)=>{"use strict";t.d(r,{X:()=>n});var s=t(2115),a=t(6611);function n(e){let[r,t]=s.useState(void 0);return(0,a.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let s,a;if(!Array.isArray(r)||!r.length)return;let n=r[0];if("borderBoxSize"in n){let e=n.borderBoxSize,r=Array.isArray(e)?e[0]:e;s=r.inlineSize,a=r.blockSize}else s=e.offsetWidth,a=e.offsetHeight;t({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}}},e=>{var r=r=>e(e.s=r);e.O(0,[902,365,226,441,517,358],()=>r(8947)),_N_E=e.O()}]);