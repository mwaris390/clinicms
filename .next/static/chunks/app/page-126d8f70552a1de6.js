(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5937:(e,t,a)=>{Promise.resolve().then(a.bind(a,1660)),Promise.resolve().then(a.bind(a,2995)),Promise.resolve().then(a.bind(a,3118))},1660:(e,t,a)=>{"use strict";a.d(t,{default:()=>w});var s=a(5155),n=a(4085),l=a(1423),r=a(1124),d=a(9602),i=a(1621),o=a(7401);let c=(0,o.A)("NotebookText",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]]);var u=a(2423);let f=(0,o.A)("CalendarOff",[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),m=(0,o.A)("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var p=a(2115),h=a(3627),x=a(5828);let y=(0,x.createServerReference)("407b989830a4ea07a7eeff31cc0150f8e982964ccb",x.callServer,void 0,x.findSourceMapURL,"CancelBookAppointment"),v=(0,x.createServerReference)("404e950d79f8b8b24e0aac835b5c7797ab7483add1",x.callServer,void 0,x.findSourceMapURL,"ReadBookAppointment");var b=a(5037),j=a(3707),g=a(2926);function w(){let[e,t]=(0,p.useTransition)(),[a,o]=(0,p.useState)(new Date),[x,w]=(0,p.useState)();async function k(){let e=await v(a);e.status?w(e.data):b.Ay.error(e.message)}function N(){k()}return(0,p.useEffect)(()=>{k()},[a,null==x?void 0:x.length]),(0,s.jsxs)("div",{className:"rounded-md shadow-md bg-slate-50 w-full h-full p-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-customPrimary",children:[(0,s.jsx)("span",{children:(0,s.jsx)(c,{className:"stroke-tertiary inline-block me-2"})}),"Appointments"]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(r.AM,{children:[(0,s.jsx)(r.Wv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",className:(0,d.cn)("pl-3 w-full text-left font-normal border border-tertiary",!a&&"text-muted-foreground"),children:[a?(0,i.GP)(a,"PPP"):(0,s.jsx)("span",{children:"Pick a Date"}),(0,s.jsx)(u.A,{className:"ml-auto h-4 w-4 opacity-50"})]})}),(0,s.jsx)(r.hl,{className:"bg-white rounded-md shadow",children:(0,s.jsx)(l.V,{onDayClick:function(e){o(e)},className:"",mode:"single",selected:a,disabled:e=>e<new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate()),initialFocus:!0})})]})}),(0,s.jsxs)("div",{className:"h-[85%] overflow-auto my-4",children:[x&&(null==x?void 0:x.length)>0&&(0,s.jsx)("ul",{children:null==x?void 0:x.map(e=>(0,s.jsxs)("li",{className:"w-full bg-customSecondary-20 my-4 rounded-3xl px-4 py-4  shadow",children:[(0,s.jsxs)("div",{className:"space-x-2 fixed right-14 flex justify-end",children:[(0,s.jsx)("button",{onClick:()=>{var a;a=e.id,t(async()=>{var e;let t=await (0,g.O)(),s=await y({appointmentId:a,updatedBy:(null===(e=t.data)||void 0===e?void 0:e.id)||""});s.status?(b.Ay.success(s.message),w(e=>null==e?void 0:e.filter(e=>e.id!=a))):(console.log(s),b.Ay.error(s.message))})},children:(0,s.jsx)(f,{className:"stroke-red-500"})}),(0,s.jsx)(h.A,{patientId:e.patient_appointment.id,appointmentId:e.id,appointmentDateTime:e.appointment_date_time,data:e.patient_appointment,isEdit:!0,emitter:N})]}),(0,s.jsx)("div",{className:"flex items-center my-2",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(m,{className:"stroke-tertiary inline-block me-2 "}),(0,s.jsx)("span",{className:"capitalize",children:e.patient_appointment.patient_name}),(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)("span",{className:"indent-8 text-sm text-customPrimary font-bold",children:e.patient_appointment.phone_no||"No Phone No."}),(0,s.jsxs)("span",{className:"text-sm text-slate-500",children:["At - ",(0,i.GP)(e.appointment_date_time,"p")]})]})]})})]},e.id))}),x&&(null==x?void 0:x.length)<=0&&(0,s.jsx)(j.A,{}),e&&""]})]})}},2995:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var s=a(5155),n=a(2115),l=a(1956),r=a.n(l),d=a(5828);let i=(0,d.createServerReference)("0029e0a1d8292def1750a489b8854ad98ecb435a26",d.callServer,void 0,d.findSourceMapURL,"CountCheckUpByDate");var o=a(5037);let c=r()(()=>Promise.all([a.e(776),a.e(242)]).then(a.bind(a,2242)),{loadableGenerated:{webpack:()=>[2242]},ssr:!1});function u(){let[e,t]=(0,n.useState)(!1),[a,l]=(0,n.useState)(["2025-01-30","2025-01-31","2025-02-01","2025-02-02","2025-02-03","2025-02-04","2025-02-05"]),[r,d]=(0,n.useState)([{name:"Check-ups",data:[0,0,0,0,0,0,0]}]),u={chart:{type:"area",toolbar:{show:!1}},xaxis:{type:"datetime",categories:a},dataLabels:{enabled:!0},stroke:{curve:"smooth"},fill:{colors:["#7063d3"],type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.6,opacityTo:.1}},tooltip:{x:{format:"dd MMM yyyy"}}};async function f(){let e=await i();if(e.status){let s=[];if(u.xaxis&&e.data)for(let t=0;t<u.xaxis.categories.length;t++){var a;s.push(0);for(let n=0;n<(null===(a=e.data)||void 0===a?void 0:a.length);n++)u.xaxis.categories[t]==e.data[n].date&&(s[t]=e.data[n].count)}d([{name:r[0].name,data:s}]),t(!0)}else o.Ay.error(e.message)}return(0,n.useEffect)(()=>{(function(){let e=[];for(let t=6;t>=0;t--){let a=new Date;a.setDate(a.getDate()-t),e.push(a.toISOString().split("T")[0])}l(e),t(!0)})(),f(),console.log("effect")},[e]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"mt-8 bg-customSecondary-20 rounded-md shadow-md p-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-center text-sm text-slate-500 ",children:"No of Checkups in previous 7 days"})}),(0,s.jsx)(c,{options:u,series:r,type:"area",height:"300"})]})})}},3118:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(5155),n=a(5828);let l=(0,n.createServerReference)("00d7d9908c28d47eeb318c7655099bb79332cbf5de",n.callServer,void 0,n.findSourceMapURL,"CountPatients"),r=(0,n.createServerReference)("00827a6b03215b266b6911e1aebc08b049ef5ec79c",n.callServer,void 0,n.findSourceMapURL,"CountUsers"),d=(0,a(7401).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var i=a(2115),o=a(5037);function c(){let[e,t]=(0,i.useState)(0),[a,n]=(0,i.useState)(0);async function c(){let e=await r();e.status?t(e.data||0):o.Ay.error(e.message)}async function u(){let e=await l();e.status?n(e.data||0):o.Ay.error(e.message)}return(0,i.useEffect)(()=>{c(),u()},[e,a]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("section",{className:"flex gap-x-12",children:[(0,s.jsxs)("div",{className:"w-[20rem] h-[5rem] bg-customSecondary-20 rounded-md shadow-md flex justify-between items-center px-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(d,{size:48,className:"stroke-customPrimary"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-customPrimary text-end font-bold text-xl",children:a}),(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"No of Patients"})]})]}),(0,s.jsxs)("div",{className:"w-[20rem] h-[5rem] bg-customSecondary-20 rounded-md shadow-md flex justify-between items-center px-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(d,{size:48,className:"stroke-customPrimary"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-customPrimary text-end font-bold text-xl",children:e}),(0,s.jsx)("span",{className:"text-sm text-slate-600",children:"No of Users"})]})]})]})})}},1124:(e,t,a)=>{"use strict";a.d(t,{AM:()=>d,Wv:()=>i,hl:()=>o});var s=a(5155),n=a(2115),l=a(532),r=a(9602);let d=l.bL,i=l.l9,o=n.forwardRef((e,t)=>{let{className:a,align:n="center",sideOffset:d=4,...i}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{ref:t,align:n,sideOffset:d,className:(0,r.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});o.displayName=l.UC.displayName},1956:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=a(306)._(a(580));function n(e,t){var a;let n={};"function"==typeof e&&(n.loader=e);let l={...n,...t};return(0,s.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9827:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=a(3719);function n(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return a}},580:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let s=a(5155),n=a(2115),l=a(9827),r=a(9214);function d(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},a=(0,n.lazy)(()=>t.loader().then(d)),o=t.loading;function c(e){let d=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?n.Suspense:n.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:["undefined"==typeof window?(0,s.jsx)(r.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(a,{...e})]}):(0,s.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(c,{...i?{fallback:d}:{},children:u})}return c.displayName="LoadableComponent",c}},9214:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return d}});let s=a(5155),n=a(7650),l=a(5861),r=a(8284);function d(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=l.workAsyncStorage.getStore();if(void 0===a)return null;let d=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files;d.push(...t)}}return 0===d.length?null:(0,s.jsx)(s.Fragment,{children:d.map(e=>{let t=a.assetPrefix+"/_next/"+(0,r.encodeURIPath)(e);return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,n.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[902,365,226,970,173,953,621,255,433,441,517,358],()=>t(5937)),_N_E=e.O()}]);