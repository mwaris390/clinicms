(()=>{var e={};e.id=530,e.ids=[530],e.modules={60030:e=>{"use strict";e.exports=require("@prisma/client/edge")},60483:e=>{"use strict";e.exports=require("@prisma/client/scripts/default-index.js")},5486:e=>{"use strict";e.exports=require("bcrypt")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},44708:e=>{"use strict";e.exports=require("node:https")},43866:(e,t,a)=>{"use strict";a.r(t),a.d(t,{patchFetch:()=>f,routeModule:()=>o,serverHooks:()=>p,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>m});var r={};a.r(r),a.d(r,{GET:()=>c});var s=a(42706),n=a(28203),d=a(45994),i=a(55079),u=a(39187);async function c(){try{let e=await (0,i.L)({fname:"saim",lname:"younis",email:"saim01@gmail.com",password:"12345678"});return u.NextResponse.json(e)}catch(e){return u.NextResponse.json({message:"Something Went Wrong",error:e},{status:500})}}let o=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/seed/route",pathname:"/seed",filename:"route",bundlePath:"app/seed/route"},resolvedPagePath:"/Users/muhamnadwaris/Desktop/projects/clinic-ms/app/seed/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:l,workUnitAsyncStorage:m,serverHooks:p}=o;function f(){return(0,d.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:m})}},72788:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"00827a6b03215b266b6911e1aebc08b049ef5ec79c":()=>r.st,"40194bfa4b7c7eafa3ecc56d10977513bf661a9ad0":()=>r.L,"403d074a2f2e964070575764d74894e9715b24597e":()=>r.Jt,"405f1c0318a48a8d90c55e445070c5fa036b92591b":()=>r.JM,"40a9639fbf598609e47e70a0060846eae39a4dcf83":()=>r.iD,"40aa2a38694138c7298b0b6d331dbe6f9329e6f59a":()=>r.Wd,"700c027b66e27a659a7846ebadc8c6252da39fc8c1":()=>r.kQ});var r=a(55079)},96487:()=>{},78335:()=>{},55079:(e,t,a)=>{"use strict";a.d(t,{L:()=>p,st:()=>x,JM:()=>h,Wd:()=>b,kQ:()=>f,Jt:()=>y,iD:()=>_});var r=a(88977);a(98063);var s=a(65658),n=a(5486),d=a.n(n),i=a(60030),u=a(80112);let c=globalThis.prisma||new i.PrismaClient().$extends((0,u.WU)());var o=a(44512),l=a(56215);let m=s.Ik({fname:s.Yj().min(1,{message:"First Name required"}),lname:s.Yj().min(1,{message:"Last Name required"}),email:s.Yj().min(1,{message:"Email required"}).email("Incorrect Email"),password:s.Yj().min(1,{message:"Password required"}),createdBy:s.Yj().optional(),updatedBy:s.Yj().optional()});async function p({fname:e,lname:t,email:a,password:r,createdBy:s="admin",updatedBy:n="admin"}){let i=await d().hash(r,5),u=m.safeParse({fname:e,lname:t,email:a,password:r});if(!u.success)return{message:"Validation failed",error:u.error.format()};try{let r=await c.user.create({data:{fname:e,lname:t,email:a,password:i,created_by:s,updated_by:n},select:{id:!0,updated_at:!0,updated_by:!0}});return{message:"User Data Entered successfully",data:r,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function f(e,t,a){try{let r=await c.user.findMany({omit:{created_at:!0,created_by:!0,updated_at:!0,updated_by:!0},skip:e,take:t,where:""!=a?{OR:[{fname:{contains:a}},{lname:{contains:a}},{email:{contains:a}}]}:void 0}),s=await c.user.count();return{message:"Fetch Users Data successfully",data:r,status:!0,totalItems:s}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function b(e){try{let t=await c.user.findUnique({omit:{created_at:!0,created_by:!0,updated_at:!0,updated_by:!0},where:{id:e}});return{message:"Fetch User Data successfully",data:t,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}let g=m.partial({password:!0}).merge(s.Ik({id:s.Yj().uuid()}));async function y({id:e,fname:t,lname:a,email:r,password:s,createdBy:n="super_admin",updatedBy:i="super_admin"}){let u="";void 0!=s&&(u=await d().hash(s,5));let o=g.safeParse({id:e,fname:t,lname:a,email:r,password:s});if(!o.success)return{message:"Validation failed",error:o.error.format()};try{let d;return d=void 0!=s?await c.user.update({data:{fname:t,lname:a,email:r,password:u,created_by:n,updated_by:i},where:{id:e},select:{id:!0,updated_at:!0,updated_by:!0}}):await c.user.update({data:{fname:t,lname:a,email:r,created_by:n,updated_by:i},where:{id:e},select:{id:!0,updated_at:!0,updated_by:!0}}),{message:"User Data Updated successfully",data:d,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function h(e){try{let t=await c.user.delete({where:{id:e},select:{id:!0,updated_at:!0,updated_by:!0}});return{message:"User Data Deleted successfully",data:t,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}let w=m.omit({fname:!0,lname:!0,createdBy:!0,updatedBy:!0});async function _({email:e,password:t}){let a=w.safeParse({email:e,password:t});if(!a.success)return{message:"Validation failed",error:a.error.format()};try{return await c.$transaction(async a=>{let r=await a.user.findUnique({where:{email:e},omit:{created_at:!0,created_by:!0,updated_at:!0,updated_by:!0}});return r?await d().compare(t,r.password)?((await (0,o.UL)()).set("token",r.id),{message:"Login successfully",data:r,status:!0}):{message:"Password Provided is Incorrect",status:!1}:{message:"Email Provided is Incorrect",status:!1}})}catch(e){return{message:"Something Went Wrong",data:e,status:!1}}}async function x(){try{let e=await c.user.count();return{message:"Fetch User Count",data:e,status:!0}}catch(e){return{message:"Something went wrong",error:e,status:!1}}}(0,l.D)([p,f,b,y,h,_,x]),(0,r.A)(p,"40194bfa4b7c7eafa3ecc56d10977513bf661a9ad0",null),(0,r.A)(f,"700c027b66e27a659a7846ebadc8c6252da39fc8c1",null),(0,r.A)(b,"40aa2a38694138c7298b0b6d331dbe6f9329e6f59a",null),(0,r.A)(y,"403d074a2f2e964070575764d74894e9715b24597e",null),(0,r.A)(h,"405f1c0318a48a8d90c55e445070c5fa036b92591b",null),(0,r.A)(_,"40a9639fbf598609e47e70a0060846eae39a4dcf83",null),(0,r.A)(x,"00827a6b03215b266b6911e1aebc08b049ef5ec79c",null)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,156,452],()=>a(43866));module.exports=r})();