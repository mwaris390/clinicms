"use strict";exports.id=290,exports.ids=[290],exports.modules={94733:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(45512),r=t(75834);function n(){return(0,s.jsxs)("div",{className:"text-tertiary font-bold flex justify-center items-center flex-col gap-y-2 mt-20",children:[(0,s.jsx)(r.A,{size:38,className:"stroke-tertiary"}),"No Data!"]})}},45082:(e,a,t)=>{t.d(a,{A:()=>c});var s=t(45512),r=t(45103);let n={src:"/_next/static/media/avatar.c6038a6a.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACalcoGAAAACXRSTlMATP0naBncioupkOAwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALUlEQVR4nE2KQQ4AMAjCBFH3/xcvw8t6oUmJ+AB2k0xLddeWM24gyWcpSXsyFwpJAFQXuXj6AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8};var i=t(28531),d=t.n(i);function c({data:e,isNote:a=!0,isEdit:t=!0,isCompact:i=!1}){return(0,s.jsx)("div",{className:"flex justify-center items-center w-full",children:(0,s.jsxs)("div",{className:`bg-white rounded-md shadow border border-tertiary ${i?"w-full px-2 py-2":"w-full lg:w-2/3 px-8 py-4"}`,children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"h-[100px] w-[100px] rounded-md border-2 border-tertiary me-8",children:[(0,s.jsx)(r.default,{src:n,alt:"patient Image",className:"w-full h-full object-contain"}),t&&(0,s.jsx)("button",{className:"bg-customPrimary hover:bg-customPrimary-80 text-white font-bold w-full rounded-md mt-1 text-[10px]",children:(0,s.jsx)(d(),{href:`/patient/create-patient/${e?.id}`,children:"Edit Info"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex gap-x-8",children:[(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("label",{htmlFor:"patientName",className:"font-bold",children:"Patient Name"}),(0,s.jsx)("span",{className:"capitalize border-b-2 border-black text-wrap max-w-[150px]",children:e?.patient_name})]}),!i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("label",{htmlFor:"fatherName",className:"font-bold",children:"Father Name"}),(0,s.jsx)("span",{className:"capitalize border-b-2 border-black text-wrap max-w-[150px]",children:e?.father_name||"--"})]}),(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("label",{htmlFor:"age",className:"font-bold",children:"Age"}),(0,s.jsxs)("span",{className:" border-b-2 border-black text-wrap max-w-[150px]",children:[e?.age,"yr"]})]})]})]}),!i&&(0,s.jsxs)("div",{className:"flex gap-x-8 mt-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"phone",className:"font-bold",children:"Phone"}),(0,s.jsx)("span",{className:" border-b-2 border-black text-wrap max-w-[150px]",children:e?.phone_no||"--"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"cnic",className:"font-bold",children:"CNIC"}),(0,s.jsx)("span",{className:" border-b-2 border-black text-wrap max-w-[150px]",children:e?.cnic||"--"})]})]})]})]}),a&&(0,s.jsx)("div",{className:"mt-4 border-t-2 border-black",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{htmlFor:"sideNote",className:"font-bold",children:"Note"}),(0,s.jsx)("span",{className:"capitalize ",children:e?.notes||"--"})]})})]})})}},99935:(e,a,t)=>{t.d(a,{Lp:()=>o,Mi:()=>A,Ob:()=>f,Rw:()=>l,Zj:()=>p,_H:()=>m,fZ:()=>u});var s=t(21590);t(70376);var r=t(7351),n=t(64998),i=t(89121),d=t(99344);let c=r.Ik({patientName:r.Yj().min(1,{message:"Patient Name is Required"}),fatherName:r.Yj(),age:r.KC([r.Yj().min(1,{message:"Age is Required"}),r.ai().int().nonnegative({message:"Age must be a positive number"})]).transform((e,a)=>{if("string"==typeof e){if(!Number.isNaN(parseInt(e)))return parseInt(e);a.addIssue({code:n.eq.custom,message:"Not a valid number"})}return e}),cnic:r.Yj().max(13,{message:"Max 13 digits"}),phone:r.Yj().min(11,{message:"Max 11 digits"}).max(15,{message:"Max 15 digits"}).superRefine((e,a)=>{""!=e&&Number.isNaN(parseInt(e))&&a.addIssue({code:n.eq.custom,message:"Not a Number"})}),sideNote:r.Yj(),createdBy:r.Yj().optional(),updatedBy:r.Yj().optional()}).partial({fatherName:!0,cnic:!0,sideNote:!0});async function l({patientName:e,fatherName:a,age:t,phone:s,cnic:r,sideNote:n,createdBy:d="",updatedBy:l=""}){let o=c.safeParse({patientName:e,fatherName:a,age:t,phone:s,cnic:r,sideNote:n});if(!o.success)return{message:"Validation failed",error:o.error.format()};try{return await i.z.$transaction(async i=>{let c=await i.patient.create({data:{patient_name:e,father_name:a,age:Number(t),phone_no:s,cnic:r,notes:n,created_user_id:d,updated_user_id:l},select:{id:!0,updated_at:!0,updated_by:!0}});return{message:"Patient Data Created Successfully",data:c,status:!0}})}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function o({id:e,patientName:a,fatherName:t,age:s,phone:r,cnic:n,sideNote:d,createdBy:l="",updatedBy:o=""}){let m=c.safeParse({patientName:a,fatherName:t,age:s,phone:r,cnic:n,sideNote:d});if(!m.success)return{message:"Validation failed",error:m.error.format()};try{let c=await i.z.patient.update({data:{patient_name:a,father_name:t,age:Number(s),phone_no:r,cnic:n,notes:d,created_user_id:l,updated_user_id:o},select:{id:!0,updated_at:!0,updated_by:!0},where:{id:e}});return{message:"Patient Data Updated Successfully",data:c,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function m(e,a,t){try{let s=await i.z.patient.findMany({omit:{created_at:!0,created_user_id:!0,updated_at:!0,updated_user_id:!0},skip:e,take:a,where:""!=t?{OR:[{patient_name:{contains:t}},{father_name:{contains:t}},{cnic:{contains:t}},{phone_no:{contains:t}},{notes:{contains:t}}]}:void 0}),r=await i.z.patient.count();return{message:"Fetch Patient Data successfully",data:s,status:!0,totalItems:r}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function u(){try{let e=await i.z.patient.findMany({omit:{created_at:!0,created_user_id:!0,updated_at:!0,updated_user_id:!0}});return{message:"Fetch Patient Data successfully",data:e,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function f(e){try{let a=await i.z.patient.findUnique({omit:{created_at:!0,created_user_id:!0,updated_at:!0,updated_user_id:!0},where:{id:e},include:{patient_checkup:{include:{created_by:{select:{fname:!0,lname:!0}}},orderBy:{created_at:"desc"}}}});return{message:"Fetch Patient Data successfully",data:a,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function p(e){try{let a=await i.z.patient.delete({where:{id:e},select:{id:!0,updated_at:!0,updated_by:!0}});return{message:"Patient Data Deleted successfully",data:a,status:!0}}catch(e){return{message:"Something Went Wrong",error:e,status:!1}}}async function A(){try{let e=await i.z.patient.count();return{message:"Fetch Patient Count",data:e,status:!0}}catch(e){return{message:"Something went wrong",error:e,status:!1}}}c.merge(r.Ik({id:r.Yj().uuid()})),(0,d.D)([l,o,m,u,f,p,A]),(0,s.A)(l,"405d35bc8bcfe2081206c4db459097298fe323f5a4",null),(0,s.A)(o,"4075a697b8d174c57378138784911344171f244c1d",null),(0,s.A)(m,"7021018dfb49a4bd18304bfa82c430eb7f25d67ca8",null),(0,s.A)(u,"000c0522219a527598e3eeebfe0e256b75c62968fb",null),(0,s.A)(f,"40e9545a480c5f1f0c9049e8cd09e27e297d400a79",null),(0,s.A)(p,"408377f98a9bd176429242396b35519fe8a25a7edf",null),(0,s.A)(A,"00d7d9908c28d47eeb318c7655099bb79332cbf5de",null)},89121:(e,a,t)=>{t.d(a,{z:()=>n});var s=t(60030),r=t(18671);let n=globalThis.prisma||new s.PrismaClient().$extends((0,r.WU)())},46055:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(88077);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};